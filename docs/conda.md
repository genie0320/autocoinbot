# 망할놈의 꽃뱀쉑

도커를 돌릴 수 없다면, 가상환경이라도 만들어야 한다. python을 가르칠 때 하나같이 Anaconda를 가볍게라도 먼저 소개하는 것은 다 이유가 있는 것이다. 웹사이트에서 anaconda를 다운받고 설치하는 것은 매우, 매우 간단하다. 하지만 문제는 그 다음이다. 내 경우 아주 작은 이유때문에 로컬에 설치한 conda 환경과 vscode의 환경이 연결이 안되었었다. 컴퓨터를 5번이나 포멧하고나서야 알게 된 이유는... `conda init` 이라는 짧은 명령어의 실행여부였다. 사실 정확히 저 명령어가 어떤 역할을 해주는지 알지 못하지만, init 이라는 이름으로 짐작컨대 로컬 시스템에 PATH 따위를 설정해주는 무언가가 아닐까?

## 동기
1. 나는 그때 python 3.11.x 과 langchain으로 각종 AI 활용 서비스들을 순조롭게 잘 개발하고 있었다. 
2. RAG 서비스를 개발하는 과정에서, 당시 streamlit에서는 없던 기능을 chainlit에서는 기본으로 지원하고 있었고 당연히 chainlit을 설치했는데 특정구간에서 자꾸만 에러가 났다. 
3. 검색결과 당시 chainlit은 ptyhon 3.11.x에 최적화가 이루어져있지 않은 상태였고 결국 python 버전을 낮춰야 하는 상황임을 확인했다.
- 쌩으로 설치된 python의 버전을 낮추는 것은 넘나 힘든 것...(경로가 꼬인다. github와의 연동도 이상해진다.) > 3일 소요
- 사실 처음엔 말로만 듣던 도커를 생각했으나 컴퓨팅파워 문제로 포기. > 1.5일 소요
- Anaconda를 설치했으나 덩치가 너무 컸다. 나는 '가상환경생성'이라는 아주 작은 기능만 이용할 건데 솔직히 5G는 에바지. 바로 삭제.
4. 개발에는 재능이 없나 싶어 포기하려던 순간 miniconda를 발견. 약간의 우여곡절이 있었으나 현재 행복하게 버전을 오가며 개발중.

## Anaconda의 종류
Anaconda은 가상환경을 만들어준다. 

가상환경이 필요한 이유는 이 지구에 내가 나 한명이어야 하는 이유와 동일하다. 
누군가의 '호출'에 여러 버전의 '나'가 동시에 대답하는 불상사를 막기 위해선 
다른 버전의 '나'들을 위한 다른 차원을 만들어 분리하는 것이 가장 확실한 방법일 것이다. 

Anaconda는 꽤 다재다능한 녀석이라 오만잡다구니를 미리 설치해둔 패키지들의 집합체이고,
수많은 패키지들을 Anaconda 용으로 리패키징해놓은 소스 배포처가 따로 있을 만큼 거대한 녀석이다. 
> 나처럼 '가상환경생성'이라는 딱 1개 기능만 이용할 예정이라면 conda의 핵심기능만을 압축해놓은 miniconda를 추천한다.
동일한 사이트, 동일한 페이지에서 다운로드 할 수 있다. 

## 설치 후 꼭 해야 할 일.
설치후에는 Anaconda prompt라는 아이콘이 생성된다. 클릭하고 들어가서 다음을 입력하면 내가 겪었던 그 모든 부조화를 건너뛸 수 있다.

```
conda init
```

그 다음 (내 경우는 vscode) 사용중인 IDE로 가서 터미널에 동일한 명령어를 한번 더 입력해준다. 
그리고 IDE를 껐다가 다시 켠다. 결과적으로 터미널을 열었을 때 다음과 같이 나온다면 인터넷에 돌고 도는 수많은 conda 명령어를 시작할 준비가 되었다는 것!
```
(base) C:\로걸경로 > 
```

## 이후
하지만 Anaconda 보다 작다는거지 miniconda를 통한 가상환경도 꽤나 파일크기가 크다. 나처럼 python 버전마다 1개의 conda 환경만 만들고, 그 버전을 사용하는 모든 프로젝트를 한 환경에서 진행하다 보면 requirement.txt를 만들기가 참... 애매해진다. 그래서 결국 venv나 poetry의 사용을 고려하게 된다.

